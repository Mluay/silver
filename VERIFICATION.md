# التحقق من عمل الصفحات

## صفحات المتجر (الزبون)

| الرابط | الوظيفة |
|--------|---------|
| `/` | الرئيسية — هيرو، تصنيفات، منتجات مميزة، ثقة |
| `/shop` | المتجر — فلاتر، بحث، ترتيب، كروت منتجات |
| `/product/[slug]` | صفحة المنتج — صور، سعر، وزن، وصف، أضف للسلة، منتجات ذات صلة |
| `/cart` | السلة — تعديل كمية، حذف، ملخص، إتمام الطلب |
| `/checkout` | الدفع — نموذج (اسم، هاتف، عنوان)، تأكيد طلب |

**الهيدر:** الرئيسية، المتجر، السلة، بحث، أيقونة السلة، الوضع الليلي/النهاري.

---

## لوحة التحكم (الأدمن)

| الرابط | الوظيفة |
|--------|---------|
| `/admin/login` | تسجيل الدخول — بريد + كلمة مرور (Supabase Auth) |
| `/admin` | لوحة التحكم — إحصائيات |
| `/admin/products` | قائمة المنتجات — إضافة، تعديل |
| `/admin/products/new` | إضافة منتج جديد |
| `/admin/products/[id]` | تعديل منتج + إدارة الصور |
| `/admin/categories` | التصنيفات — إضافة، تعديل، حذف |
| `/admin/types` | الأنواع — إضافة، تعديل، حذف |
| `/admin/orders` | قائمة الطلبات |
| `/admin/orders/[id]` | تفاصيل الطلب + تحديث الحالة |

**الشريط الجانبي:** لوحة التحكم، المنتجات، التصنيفات، الأنواع، الطلبات، تسجيل الخروج، العودة للمتجر.

---

## ما تم التأكد منه

1. **تسجيل الدخول:** صفحة `/admin/login` تعمل؛ عند نجاح الدخول يتم التوجيه إلى `/admin`. عند فشل المفتاح تظهر رسالة واضحة.
2. **حماية الأدمن:** زيارة `/admin` أو أي صفحة تحت `/admin` (ما عدا `/admin/login`) بدون تسجيل دخول تُحوّل إلى `/admin/login`.
3. **معالجة أخطاء قاعدة البيانات:** إذا فشل الاتصال بقاعدة البيانات تظهر رسالة بدلاً من تعطل الصفحة (المتجر، صفحة المنتج، لوحة التحكم، المنتجات، التصنيفات، الأنواع، الطلبات).
4. **الـ Middleware:** إذا كان مفتاح Supabase غير مضبوط أو فشل جلب الجلسة، الموقع يستمر بالعمل ولا يتوقف.

---

## تشغيل الموقع

```bash
npm run dev
```

- المتجر: http://localhost:3000
- تسجيل الدخول: http://localhost:3000/admin/login
